# Login interactive shell: /etc/bash then ~/.bash_profile
# Non-log shell: execute ~/.bashrc only
# Non-interactive shell: execute script pointed by $ENV, nothing if $ENV = ""
[ -z "PS1" ] && return					#nothing to do for non interactive shell
PS1="\W> "	    #prompt: short_dir_name>


export MY_BASH_DIR=$(cd $(dirname "${BASH_SOURCE:-$0}") && pwd)
export MY_USER=kshileev
export MY_TMP_DIR=/tmp/${MY_USER}
mkdir -p ${MY_TMP_DIR}

export HISTFILE=${MY_TMP_DIR}/BashHist
export HISTSIZE=5000
export HISTCONTROL=ignoreboth
export TZ='Europe/Moscow'


[[ -f /etc/bash_completion ]] && . /etc/bash_completion

alias a='alias'
alias df='df -h'
alias du='du -h'
alias e='echo'
alias h='history'
alias l='ls -F'
alias l.='ls -dh .*'
alias ll='ls -Flih'
alias ll.='ls -Fldih .*'
alias ld='ls -lad'
alias m='less'
alias src=". ~/.bashrc"


source ${MY_BASH_DIR}/RcHelpers

source ${MY_BASH_DIR}/RcNet
source ${MY_BASH_DIR}/RcIp
source ${MY_BASH_DIR}/RcSs
source ${MY_BASH_DIR}/RcOvs
source ${MY_BASH_DIR}/RcSsh
source ${MY_BASH_DIR}/RcTcpdump
source ${MY_BASH_DIR}/RcRepo
source ${MY_BASH_DIR}/RcPython
source ${MY_BASH_DIR}/RcC++
source ${MY_BASH_DIR}/RcOpenstack
source ${MY_BASH_DIR}/RcVirsh
source ${MY_BASH_DIR}/RcOvz
source ${MY_BASH_DIR}/RcOther
source ${MY_BASH_DIR}/RcKernel
source ${MY_BASH_DIR}/RcAfs
source ${MY_BASH_DIR}/RcDocker
source ${MY_BASH_DIR}/RcK8s
echo All scripts loaded

ksAddLineToFileIfNotThere "[ -f ${MY_BASH_DIR}/bash ] && . ${MY_BASH_DIR}/bash" ~/.bashrc
